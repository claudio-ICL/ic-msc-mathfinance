\documentclass[10pt,a4paper]{article}
\include{preamble}
\date{Friday 20 November 2020}
\usepackage{fancyhdr}
\pagestyle{fancy}
\fancyhf{}
\rhead{Problem Set 1}
\lhead{Algorithmic Trading and Machine Learning}
\cfoot{Page \thepage}

\include{notation}
\begin{document}
	
	\begin{center}
		\begin{figure}
			\includegraphics[width=0.2\textwidth]{imperial_logo_light}
		\end{figure}
	\begin{Large}
		Algorithmic Trading and Machine Learning \\
		\textsc{Problem Set 1}
	\end{Large}
	\end{center}

\vspace{0.2cm}

\noindent Friday 20 November 2020 \\
\noindent Claudio Bellani, \small{\texttt{ c.bellani17@imperial.ac.uk}}

\vspace{0.5cm}



\begin{exercise}[``Risk-adjustment in Bertsimas\&Lo permanent price impact execution setting'']
  \label{ex.rapp}
  Consider the following Bertsimas\&Lo execution setting. 
  Time $t$ is discrete, and it ranges from $0$, start of the execution, to $T$, execution horizon. 
  Let $X_t$ denote the time-$t$ quantity left to execute by time $T$. 
  Let $\price_t$ denote the time-$t$ price of the asset being traded. 
  We assume permanent price impact and we let $\price_t$ evolve according to the following dynamics
  \begin{equation*}
    \price_{t+1} = \price_t - \theta\Delta\inventory_{t+1} + \sigma\price_0 \noise_{t+1},  
  \end{equation*}
  where $\executable_{t+1} = - \inventory_{t+1} + \inventory_{t}$ is the quantity executed in the subinterval $[t, t+1]$, 
  and $\noise_{t+1} = \WienerProc_{t+1} - \WienerProc_{t}$ is the increment of the standard one-dimensional Brownian motion $\WienerProc$. 
  We let $\filtration$ be the filtration generated by $\WienerProc$. 

  Define the ``unimpacted'' price 
  \begin{equation*}
    \unimpactedprice_{t+1} = \unimpactedprice_{t} + \tilde{\sigma} \noise_{t+1}, \qquad \unimpactedprice_{0} = \price_{0}, 
  \end{equation*}
  where $\tilde{\sigma} = \sigma \price_{0}$, 
  and consider the following risk-adjusted expected execution cost
  \begin{equation}
    \label{eq.raeec}
    F(t,s,\lbrace\inventory_{u}\rbrace_{u=t}^{T})
    =
    \Expectation_{t}
    \left[
      \sum_{u=t}^{T-1} \price_{u+1}(\executable_{u+1}) 
      + 2\alpha\squared \Delta\unimpactedprice\squared_{u+1}\inventory_{u+1} \Big\vert \price_t = s 
    \right],
  \end{equation}
  where $\alpha$ is a coefficient of risk aversion.

  \begin{enumerate}[label={\textbf{\ref{ex.rapp}.\arabic{*}}}, ref={Exercise {\ref{ex.rapp}.\arabic{*}}}]
    \item
    Horizon setting for linear executions. 
    Let $x_0$ be a positive integer representing the number of contracts to execute. 
    Let $\inventory$ be the optimal strategy for $x_0$ in the case of no risk aversion, i.e. $\alpha=0$.
    In other words, let $\inventory$ be 
    \begin{equation*}
      \lbrace \inventory_t\rbrace_{t=0}^{T}
      =
      \argmin 
      \left \lbrace
      \Expectation \left[
        \sum_{t=0}^{T-1} \price_{t+1} (\executable_{t+1}) 
      \right]
      : \,\,\, 
      \inventory_0 = x_0 , \,
      \inventory_T = 0 , \, 
      \inventory_{t+1} \measurable \filtration_{t}\, \forall t
      \right \rbrace,
    \end{equation*}
    where 
      $\inventory_{t+1} \measurable \filtration_{t}\, \forall t$
    means that $\inventory_{t+1}$ is measurable with respect to $\filtration_t$ for all $t=0, \dots, T-1$, 
    or, in other words, that the amount to be executed in the time subinterval $[t,t+1]$ is decided at time $t$.
    Find the optimal hotizon $T^{\star}$ for this execution strategy with respect to the risk-adjusted expected execution cost of equation \eqref{eq.raeec}. This means finding
    \begin{equation*}
      T^{\star} = 
      \argmin
      \left \lbrace
      \Expectation \left[
        \sum_{t=0}^{T-1} \price_{t+1} (\executable_{t+1}) + 2 \alpha\squared \Delta \unimpactedprice\squared_{t+1} \inventory_{t+1}
      \right]: \, \, \, 
      T \in \N
      \right \rbrace.
    \end{equation*}
  \item
    Optimal risk-adjusted execution.
    Find the optimal execution strategy $\inventory^{\star}$ for the risk-adjusted expected execution cost. 
    This means finding
    \begin{equation*}
      \lbrace\inventory^{\star}_{t}\rbrace_{t=0}^{T}
      =
      \argmin
      \left\lbrace
      F(0, \price_{0}, \lbrace \inventory_{t} \rbrace_{t=0}^{T})
      : \,\,\,
      \inventory_0 = x_0, \, 
      \inventory_T = 0, \,
      \inventory_{t+1} \measurable \filtration_{t}\, \forall t
      \right \rbrace,
    \end{equation*}
    where $F$ is as in equation \eqref{eq.raeec}. 
  \end{enumerate}
\end{exercise}

\begin{exercise}[``Permanent price impact with information'']
  \label{ex.ppinfo}
  Consider the following Bertsimas\&Lo execution setting. 
  Time $t$ is discrete, and it ranges from $0$, start of the execution, to $T$, execution horizon. 
  Let $\inventory_t$ denote the time-$t$ quantity left to execute by time $T$. 
  Let $\price_t$ denote the time-$t$ price of the asset being traded. 
  We assume permanent price impact and we let $\price_t$ evolve according to the following dynamics
  \begin{equation*}
    \begin{split}
      \price_{t+1} &= \price_t +\gamma A_{t} - \theta\Delta\inventory_{t+1} + \sigma\price_0 \noise_{t+1}
      \\
      A_{t+1} &= \rho A_{t} + \eta \Delta\tilde{\WienerProc}_{t+1},
    \end{split}
  \end{equation*}
  where $\executable_{t+1} = - \inventory_{t+1} + \inventory_{t}$ is the quantity executed in the subinterval $[t, t+1]$, 
  and 
    $\noise_{t+1} = \WienerProc_{t+1} - \WienerProc_{t}$ ,
    $\Delta\tilde{\WienerProc}{t+1} = \tilde{\WienerProc}_{t+1} - \tilde{\WienerProc}_{t}$
  are the increments of the standard one-dimensional Brownian motions
    $\WienerProc$ and $\tilde{\WienerProc}$, independent one from each other.  
    We let $\filtration$ be the minimal filtration to which both  $\WienerProc$ and $\tilde{\WienerProc}$ are adapted. 
    The AR(1) process $\lbrace A_t \rbrace_{t=0}^{T}$ represents information. 

  Define the expected execution cost $F$ as follows
  \begin{equation*}  
    F(t,s,a,\lbrace\inventory_{u}\rbrace_{u=t}^{T})
    =
    \Expectation_{t} \left[
      \sum_{u=t}^{T-1} \price_{u+1}(\executable_{u+1}) \Big\vert 
      \price_{t}=s, \, A_t = a
    \right].
  \end{equation*}
  Show that the optimal execution strategy $\inventory^{\star}$, defined as the minimiser 
  \begin{equation*}
    \lbrace\inventory^{\star}_t\rbrace_{t=0}^{T}
    =
    \argmin
    \left\lbrace
    F(0, \price_0, A_0, \lbrace\inventory_t\rbrace_{t=0}^{T}) :\,\,\,
    \inventory_0 = x_0, \, 
    \inventory_T = 0, \, 
    \inventory_{t+1} \measurable \filtration_t \, \forall t
    \right\rbrace,
  \end{equation*}
  is given by 
  \begin{equation*}
    \inventory^{\star}_{t+1} = 
    \frac{T-t-1}{T-t} \inventory^{\star}_t
    + \frac{\rho c_{2, T-t-2}}{2 c_{1, T-t-2}}A_t,
    \qquad
    \inventory^{\star}_0 = x_0, 
  \end{equation*}
  where $c_{1, -1} = 1 $, $c_{1, 0} = \theta$,  $c_{2, -1} = 0$, $c_{2,0} = \gamma$ and for $k=1, \dots, T$
  \begin{equation*}
    c_{1, k } = \frac{\theta}{2}\frac{k+2}{k+1},  \qquad
    c_{2,k} = \gamma + \frac{\theta}{2}\frac{\rho c_{2,k-1}}{c_{1,k-1}}.
  \end{equation*}
\end{exercise}
\end{document}
